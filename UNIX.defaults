#!/bin/bash
#

# UNIX.defaults v1.0.0
# This script sets defaults for Mac OS X UNIX programs (Mountain Lion).
# www.brianspeir.com
#
# Copyright (C) 2013 Brian Speir. All rights reserved.
#
# Licensed under The BSD 3-Clause License. You may not use this file except
# in compliance with the License. You may obtain a copy of the License at
# http://opensource.org/licenses/BSD-3-Clause


# -------------------------------------------------------------------------- #
# Bash                                                                       #
# -------------------------------------------------------------------------- #

mkdir -p "$HOME/Library/Preferences/Bash" &>/dev/null
chmod 700 "$HOME/Library/Preferences/Bash"

touch "$HOME/Library/Preferences/Bash/bash_profile"
ln -sh "$HOME/Library/Preferences/Bash/bash_profile" "$HOME/.bash_profile" &>/dev/null
chmod -h 700 "$HOME/.bash_profile"

touch "$HOME/Library/Preferences/Bash/bashrc"
ln -sh "$HOME/Library/Preferences/Bash/bashrc" "$HOME/.bashrc" &>/dev/null
chmod -h 700 "$HOME/.bashrc"

mkdir -p "$HOME/Library/Application Support/Bash" &>/dev/null
chmod 700 "$HOME/Library/Application Support/Bash"
touch "$HOME/Library/Application Support/Bash/bash_history"


# -------------------------------------------------------------------------- #
# Git                                                                        #
# -------------------------------------------------------------------------- #

# Relocate .gitconfig "global" to Preferences
mkdir -p "$HOME/Library/Preferences/Git/" &>/dev/null
chmod 700 "$HOME/Library/Preferences/Git/"

touch "$HOME/Library/Preferences/Git/config"
ln -sh "$HOME/Library/Preferences/Git/config" "$HOME/.gitconfig" &>/dev/null
chmod -h 700 "$HOME/.gitconfig"


# -------------------------------------------------------------------------- #
# Mercurial                                                                  #
# -------------------------------------------------------------------------- #

# Relocate .hgrc and .gitignore to Application Support
mkdir -p "$HOME/Library/Preferences/Mercurial/" &>/dev/null
chmod 700 "$HOME/Library/Preferences/Mercurial/"

touch "$HOME/Library/Preferences/Mercurial/hgrc"
ln -sh "$HOME/Library/Preferences/Mercurial/hgrc" "$HOME/.hgrc" &>/dev/null
chmod -h 700 "$HOME/.hgrc"


# -------------------------------------------------------------------------- #
# Shell                                                                      #
# -------------------------------------------------------------------------- #

mkdir -p "$HOME/Library/Preferences/Shell" &>/dev/null
chmod 700 "$HOME/Library/Preferences/Shell"

touch "$HOME/Library/Preferences/Shell/aliases"
touch "$HOME/Library/Preferences/Shell/sources"
touch "$HOME/Library/Preferences/Shell/private"


# -------------------------------------------------------------------------- #
# SSH                                                                        #
# -------------------------------------------------------------------------- #

# Relocate .ssh to Library folder.
mkdir -p "$HOME/Library/SSH" &>/dev/null
chmod 700 "$HOME/Library/SSH"
ln -sh "$HOME/Library/SSH" "$HOME/.ssh" &>/dev/null
chmod -h 700 "$HOME/.ssh"


# -------------------------------------------------------------------------- #
# XDG Directories                                                            #
# -------------------------------------------------------------------------- #

# XDG_DATA_HOME
ln -sh "$HOME/Library/Application Support" "$HOME/.local" &>/dev/null
chmod -h 700 "$HOME/.local"

# XDG_CONFIG_HOME
ln -sh "$HOME/Library/Preferences" "$HOME/.config" &>/dev/null
chmod -h 700 "$HOME/.config"

# XDG_CACHE_HOME
ln -sh "$HOME/Library/Caches" "$HOME/.cache" &>/dev/null
chmod -h 700 "$HOME/.cache"
